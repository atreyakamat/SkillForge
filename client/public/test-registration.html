<!DOCTYPE html>
<html>
<head>
    <title>Frontend Registration Test</title>
</head>
<body>
    <h1>Frontend Registration Test</h1>
    <form id="testForm">
        <div>
            <label>Name: <input type="text" id="name" value="Test User Frontend"></label>
        </div>
        <div>
            <label>Email: <input type="email" id="email" value="frontendtest@example.com"></label>
        </div>
        <div>
            <label>Password: <input type="password" id="password" value="TestPassword123!"></label>
        </div>
        <div>
            <label>Role: 
                <select id="role">
                    <option value="Developer">Developer</option>
                    <option value="Designer">Designer</option>
                    <option value="Manager">Manager</option>
                    <option value="Product">Product</option>
                    <option value="Data">Data</option>
                </select>
            </label>
        </div>
        <button type="submit">Test Registration</button>
    </form>
    
    <div id="results" style="margin-top: 20px; padding: 20px; border: 1px solid #ccc;"></div>

    <script>
        const API_BASE = 'http://localhost:5000/api';
        const resultsDiv = document.getElementById('results');
        
        document.getElementById('testForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value + Date.now(),
                password: document.getElementById('password').value,
                role: document.getElementById('role').value
            };
            
            resultsDiv.innerHTML = '<h3>Testing...</h3>';
            resultsDiv.innerHTML += '<p><strong>Sending data:</strong></p>';
            resultsDiv.innerHTML += '<pre>' + JSON.stringify(formData, null, 2) + '</pre>';
            resultsDiv.innerHTML += '<p><strong>URL:</strong> ' + API_BASE + '/auth/register</p>';
            
            try {
                const response = await fetch(API_BASE + '/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                resultsDiv.innerHTML += '<p><strong>Response Status:</strong> ' + response.status + '</p>';
                
                const responseData = await response.json();
                resultsDiv.innerHTML += '<p><strong>Response Data:</strong></p>';
                resultsDiv.innerHTML += '<pre>' + JSON.stringify(responseData, null, 2) + '</pre>';
                
                if (response.ok) {
                    resultsDiv.innerHTML += '<p style="color: green;"><strong>✅ SUCCESS!</strong></p>';
                } else {
                    resultsDiv.innerHTML += '<p style="color: red;"><strong>❌ FAILED!</strong></p>';
                }
                
            } catch (error) {
                resultsDiv.innerHTML += '<p style="color: red;"><strong>❌ NETWORK ERROR:</strong></p>';
                resultsDiv.innerHTML += '<pre>' + error.message + '</pre>';
            }
        });
    </script>
</body>
</html>